# Azure Document Search Application

This project is a full-stack intelligent document search system built using various Azure services. It includes a backend powered by FastAPI, an Azure Function for document ingestion, a React frontend, and utilizes Azure Cognitive Search and Azure OpenAI for advanced search capabilities.

## Project Structure

```
azure-doc-search-app
├── backend              # FastAPI backend application
│   ├── app              # Application code
│   ├── requirements.txt  # Python dependencies
│   ├── .env.example      # Environment variables example
│   └── README.md         # Backend documentation
├── azure-function        # Azure Function for document ingestion
│   ├── ingest            # Ingestion code
│   ├── requirements.txt   # Python dependencies
│   ├── function.json      # Azure Function configuration
│   ├── .env.example       # Environment variables example
│   └── README.md          # Azure Function documentation
├── frontend              # React frontend application
│   ├── src               # Source code
│   ├── package.json      # npm configuration
│   ├── tsconfig.json     # TypeScript configuration
│   ├── .env.example       # Environment variables example
│   └── README.md          # Frontend documentation
├── infra                 # Infrastructure as Code
│   ├── arm               # ARM templates
│   ├── bicep             # Bicep templates
│   └── README.md          # Infrastructure documentation
├── .github               # GitHub workflows
│   └── workflows
│       └── backend-deploy.yml # CI/CD for backend
├── docker-compose.yml     # Local development setup
├── .env.example           # General environment variables example
└── README.md              # Overall project documentation
```

## Features

- **Document Ingestion**: Automatically triggers when a new document is uploaded to Azure Blob Storage. It extracts text and metadata, chunks the text, and creates embeddings.
- **Vector Search**: Stores chunks, embeddings, and metadata in Azure Cognitive Search, enabling full-text and vector search capabilities.
- **FastAPI Backend**: Provides an API endpoint for user queries, applying filters and returning answers generated by Azure OpenAI.
- **React Frontend**: User-friendly interface for inputting questions and displaying results with metadata context.
- **DevOps & Deployment**: Uses Docker Compose for local development and GitHub Actions for automated deployment to Azure.

## Setup Instructions

1. **Clone the repository**:
   ```
   git clone <repository-url>
   cd azure-doc-search-app
   ```

2. **Backend Setup**:
   - Navigate to the `backend` directory.
   - Install dependencies:
     ```
     pip install -r requirements.txt
     ```
   - Configure environment variables by copying `.env.example` to `.env` and updating the values.

3. **Azure Function Setup**:
   - Navigate to the `azure-function` directory.
   - Install dependencies:
     ```
     pip install -r requirements.txt
     ```
   - Configure environment variables by copying `.env.example` to `.env` and updating the values.

4. **Frontend Setup**:
   - Navigate to the `frontend` directory.
   - Install dependencies:
     ```
     npm install
     ```
   - Configure environment variables by copying `.env.example` to `.env` and updating the values.

5. **Run the application**:
   - Use Docker Compose to start all services:
     ```
     docker-compose up
     ```

6. **Access the application**:
   - Open your browser and navigate to `http://localhost:3000` to access the frontend.

## Deployment

- The backend can be deployed to Azure App Service using the GitHub Actions workflow defined in `.github/workflows/backend-deploy.yml`.
- Infrastructure can be provisioned using ARM or Bicep templates located in the `infra` directory.

## Contributing

Contributions are welcome! Please submit a pull request or open an issue for any suggestions or improvements.

## License

This project is licensed under the MIT License. See the LICENSE file for details.